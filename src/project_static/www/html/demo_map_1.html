<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_e178224fb1fd09bcf870b514d3035f83 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
    
                    <style>
                        .foliumtooltip {
                            
                        }
                       .foliumtooltip table{
                            margin: auto;
                        }
                        .foliumtooltip tr{
                            text-align: left;
                        }
                        .foliumtooltip th{
                            padding: 2px; padding-right: 8px;
                        }
                    </style>
            
</head>
<body>
    
    
            <div class="folium-map" id="map_e178224fb1fd09bcf870b514d3035f83" ></div>
        
</body>
<script>
    
    
            var map_e178224fb1fd09bcf870b514d3035f83 = L.map(
                "map_e178224fb1fd09bcf870b514d3035f83",
                {
                    center: [55.73164695475836, 37.44458477963776],
                    crs: L.CRS.EPSG3857,
                    zoom: 10,
                    zoomControl: true,
                    preferCanvas: true,
                }
            );
            L.control.scale().addTo(map_e178224fb1fd09bcf870b514d3035f83);

            

        
    
            var tile_layer_54994640f273517c82bae28a8cdf2bcd = L.tileLayer(
                "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",
                {"attribution": "Data by \u0026copy; \u003ca target=\"_blank\" href=\"http://openstreetmap.org\"\u003eOpenStreetMap\u003c/a\u003e, under \u003ca target=\"_blank\" href=\"http://www.openstreetmap.org/copyright\"\u003eODbL\u003c/a\u003e.", "detectRetina": false, "maxNativeZoom": 18, "maxZoom": 18, "minZoom": 0, "noWrap": false, "opacity": 1, "subdomains": "abc", "tms": false}
            ).addTo(map_e178224fb1fd09bcf870b514d3035f83);
        
    
            map_e178224fb1fd09bcf870b514d3035f83.fitBounds(
                [[55.723854, 37.428047], [55.73943990951672, 37.461122559275516]],
                {}
            );
        
    
        function geo_json_65b960b045fa86fbdd2623a2231aba58_styler(feature) {
            switch(feature.id) {
                default:
                    return {"fillOpacity": 0.5, "weight": 2};
            }
        }
        function geo_json_65b960b045fa86fbdd2623a2231aba58_highlighter(feature) {
            switch(feature.id) {
                default:
                    return {"fillOpacity": 0.75};
            }
        }
        function geo_json_65b960b045fa86fbdd2623a2231aba58_pointToLayer(feature, latlng) {
            var opts = {"bubblingMouseEvents": true, "color": "#3388ff", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#3388ff", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 2, "stroke": true, "weight": 3};
            
            let style = geo_json_65b960b045fa86fbdd2623a2231aba58_styler(feature)
            Object.assign(opts, style)
            
            return new L.CircleMarker(latlng, opts)
        }

        function geo_json_65b960b045fa86fbdd2623a2231aba58_onEachFeature(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    if(typeof e.target.setStyle === "function"){
                        geo_json_65b960b045fa86fbdd2623a2231aba58.resetStyle(e.target);
                    }
                },
                mouseover: function(e) {
                    if(typeof e.target.setStyle === "function"){
                        const highlightStyle = geo_json_65b960b045fa86fbdd2623a2231aba58_highlighter(e.target.feature)
                        e.target.setStyle(highlightStyle);
                    }
                },
            });
        };
        var geo_json_65b960b045fa86fbdd2623a2231aba58 = L.geoJson(null, {
                onEachFeature: geo_json_65b960b045fa86fbdd2623a2231aba58_onEachFeature,
            
                style: geo_json_65b960b045fa86fbdd2623a2231aba58_styler,
                pointToLayer: geo_json_65b960b045fa86fbdd2623a2231aba58_pointToLayer
        });

        function geo_json_65b960b045fa86fbdd2623a2231aba58_add (data) {
            geo_json_65b960b045fa86fbdd2623a2231aba58
                .addData(data)
                .addTo(map_e178224fb1fd09bcf870b514d3035f83);
        }
            geo_json_65b960b045fa86fbdd2623a2231aba58_add({"bbox": [37.428047, 55.723854, 37.461122559275516, 55.73943990951672], "features": [{"bbox": [37.428047, 55.723854, 37.461122559275516, 55.73943990951672], "geometry": {"coordinates": [[[[37.457641, 55.730599], [37.457621, 55.730604], [37.457583, 55.730617], [37.456869, 55.730827], [37.456621, 55.730929], [37.456266, 55.731224], [37.455793, 55.731407], [37.455621, 55.731494], [37.455565, 55.731523], [37.455305, 55.731579], [37.455399, 55.731801], [37.455621, 55.732494], [37.455642, 55.732559], [37.45565, 55.732579], [37.456209, 55.732991], [37.456621, 55.733189], [37.456829, 55.733371], [37.457029, 55.733579], [37.457452, 55.733748], [37.457621, 55.733759], [37.457817, 55.733775], [37.458294, 55.733906], [37.458621, 55.733924], [37.459024, 55.733982], [37.459191, 55.734009], [37.459621, 55.734069], [37.460061, 55.734139], [37.460211, 55.734169], [37.460621, 55.734239], [37.460911, 55.734289], [37.461122559275516, 55.73431773027198], [37.460949, 55.734138], [37.460613, 55.733932], [37.460144, 55.733597], [37.460087, 55.733459], [37.459949, 55.733402], [37.459599, 55.732948], [37.459263, 55.732601], [37.459595, 55.732243], [37.459946, 55.731873], [37.46006608452268, 55.73181392098349], [37.460048, 55.731776], [37.460046, 55.731769], [37.460043, 55.731767], [37.459447, 55.731368], [37.459048, 55.731212], [37.458787, 55.731028], [37.458516, 55.730767], [37.458183, 55.730631], [37.458048, 55.730608], [37.45790226493742, 55.73056257608439], [37.45777, 55.730579], [37.457641, 55.730599]]], [[[37.451965, 55.723911], [37.451582, 55.723854], [37.451195, 55.723907], [37.450864, 55.724012], [37.450582, 55.724066], [37.450436, 55.724148], [37.450241, 55.724294], [37.449883, 55.724596], [37.449603, 55.725273], [37.449591, 55.725294], [37.449587, 55.725299], [37.449582, 55.725301], [37.449574, 55.725303], [37.44955, 55.725294], [37.448915, 55.724961], [37.448582, 55.72494], [37.448421, 55.725133], [37.448067, 55.725294], [37.447836, 55.725548], [37.447582, 55.725726], [37.447286, 55.725998], [37.446599, 55.726294], [37.447155, 55.726721], [37.447532, 55.727244], [37.447571, 55.727294], [37.447576, 55.7273], [37.447582, 55.727305], [37.447588, 55.7273], [37.447593, 55.727294], [37.448157, 55.72687], [37.448582, 55.726821], [37.448835, 55.727041], [37.448962, 55.727294], [37.449277, 55.7276], [37.449582, 55.727648], [37.449899, 55.727611], [37.450244, 55.727633], [37.450582, 55.727604], [37.450869, 55.727582], [37.451345, 55.727531], [37.451582, 55.727512], [37.452076, 55.7278], [37.452117, 55.727829], [37.452582, 55.728146], [37.452847, 55.728029], [37.453135, 55.727847], [37.453582, 55.72775], [37.454006, 55.72787], [37.45419062647585, 55.72797710375671], [37.454209, 55.727972], [37.454686, 55.727882], [37.454792, 55.727845], [37.454933, 55.727861], [37.455256, 55.727854], [37.455611, 55.727854], [37.455933, 55.727846], [37.456318, 55.727792], [37.456549, 55.727792], [37.45662593560078, 55.727776973515475], [37.456581, 55.727596], [37.456398, 55.727146], [37.455956, 55.726852], [37.45578, 55.726768], [37.455517, 55.726593], [37.455227, 55.726318], [37.454948, 55.726089], [37.454659, 55.725887], [37.454369, 55.725597], [37.454102, 55.725437], [37.453945, 55.725292], [37.453495, 55.725052], [37.453125, 55.72477], [37.45295, 55.724648], [37.452908, 55.724632], [37.452888, 55.724594], [37.45237, 55.724171], [37.452060951588976, 55.72389579974828], [37.451965, 55.723911]]], [[[37.432115, 55.739397], [37.432476, 55.738966], [37.432908, 55.738878], [37.433304, 55.738794], [37.433555, 55.73875], [37.433908, 55.738679], [37.434129, 55.738618], [37.434839, 55.738465], [37.434908, 55.738448], [37.434928, 55.738417], [37.434943, 55.738397], [37.434956, 55.738349], [37.434908, 55.738088], [37.434719, 55.737586], [37.434738, 55.737397], [37.434788, 55.737277], [37.434908, 55.737065], [37.43500632830837, 55.73684905409789], [37.434952, 55.736912], [37.434528, 55.737011], [37.434368, 55.737011], [37.433949, 55.737232], [37.433708, 55.73735], [37.433357, 55.737591], [37.433102, 55.737743], [37.432949, 55.737854], [37.43251, 55.738159], [37.432198, 55.73859], [37.432175, 55.738819], [37.43200736256823, 55.73943990951672], [37.432115, 55.739397]]], [[[37.433943, 55.734433], [37.433959, 55.734397], [37.434017, 55.734288], [37.434248, 55.733737], [37.4345329772296, 55.733409661290324], [37.434191, 55.73338], [37.433732, 55.733386], [37.433663, 55.733398], [37.433191, 55.733403], [37.432717, 55.733401], [37.432673, 55.733408], [37.432191, 55.733407], [37.431854, 55.733264], [37.43170674796432, 55.73307531583261], [37.431521, 55.733011], [37.431297, 55.733007], [37.431289, 55.732998], [37.431284, 55.732976], [37.431139, 55.732838], [37.430908, 55.73259], [37.430818, 55.732607], [37.430796066136686, 55.73259501821795], [37.430503, 55.732615], [37.430191, 55.732735], [37.430018, 55.732754], [37.429494, 55.732927], [37.429383, 55.733119], [37.429191, 55.733268], [37.428793, 55.733325], [37.428589, 55.733325], [37.42858058754328, 55.733326648672424], [37.428047, 55.733593], [37.428593, 55.733955], [37.428951, 55.734264], [37.429146, 55.734402], [37.429298, 55.7346], [37.429474, 55.735077], [37.429951, 55.735394], [37.430134, 55.73542], [37.430595, 55.735241], [37.43095, 55.73526], [37.431263, 55.735279], [37.431648, 55.735294], [37.43195, 55.735317], [37.432426, 55.735073], [37.432671, 55.734596], [37.432804, 55.734451], [37.432949, 55.734421], [37.433109, 55.734436], [37.433784, 55.734436], [37.43393452671756, 55.734443167938934], [37.433943, 55.734433]]], [[[37.432137, 55.731571], [37.432284, 55.731501], [37.432358, 55.731497], [37.432687, 55.731424], [37.43266, 55.731047], [37.432284, 55.73053], [37.432203, 55.730504], [37.431511, 55.730651], [37.431284, 55.73062], [37.431144, 55.730563], [37.430778, 55.730424], [37.430484, 55.730224], [37.430284, 55.730119], [37.429935, 55.729772], [37.429713, 55.729424], [37.42968624406706, 55.72939609738422], [37.429501, 55.729595], [37.42953493752284, 55.72973660138838], [37.429595, 55.729834], [37.429667, 55.729983], [37.42962042345773, 55.73014136024372], [37.429646, 55.730286], [37.429707, 55.730595], [37.429749, 55.730797], [37.429928, 55.731571], [37.429932, 55.731594], [37.429924, 55.731621], [37.4296914357047, 55.73208246038405], [37.430273, 55.732157], [37.430447, 55.732102], [37.43055, 55.732087], [37.430852, 55.731983], [37.431172, 55.731709], [37.431447, 55.731695], [37.43150111158986, 55.73169674553516], [37.431519, 55.731658], [37.432137, 55.731571]]], [[[37.431191, 55.732187], [37.43117570514821, 55.73220539023846], [37.431198380509166, 55.73219735188299], [37.431191, 55.732187]]]], "type": "MultiPolygon"}, "id": "0", "properties": {"id": "8abb8eb65068b7f3f9d6ed4f4fd0a72a", "id_1": "9b705c394ee66f66d4c3326769fd6196", "id_2": "86e0e9cfe8b1bf29de6a68e0bef099fb", "lat": 55.73059603888188, "lon": 37.44594991111241, "mode": "transit", "range": 1200, "source_1": "[ { \"lon\": 37.457581944003586, \"range\": 600, \"mode\": \"walk\", \"lat\": 55.727294262108444, \"type\": \"time\", \"id\": \"c38fd1751404140135459f3d6606ee17\" }, { \"lon\": 37.464620970822082, \"range\": 600, \"mode\": \"walk\", \"lat\": 55.732579110744972, \"type\": \"time\", \"id\": \"e010144b89eaf68ca2c565bb5eb4efd7\" }, { \"lon\": 37.457581944003586, \"range\": 600, \"mode\": \"walk\", \"lat\": 55.722786031751113, \"type\": \"time\", \"id\": \"857461072013f8755d8cbd5c0a3969d7\" }, { \"lon\": 37.460411356744352, \"range\": 600, \"mode\": \"walk\", \"lat\": 55.720415115583585, \"type\": \"time\", \"id\": \"24f84a5fde98b1c14e1bd224304a9d0c\" }, { \"lon\": 37.456339762800319, \"range\": 600, \"mode\": \"walk\", \"lat\": 55.714001260419145, \"type\": \"time\", \"id\": \"55a01afe8588dc83f74bd3426ec57f53\" }, { \"lon\": 37.456546793000868, \"range\": 600, \"mode\": \"walk\", \"lat\": 55.712212967599044, \"type\": \"time\", \"id\": \"1f0754581ea5300ee5932d61dcc5aced\" }, { \"lon\": 37.44074348769265, \"range\": 600, \"mode\": \"walk\", \"lat\": 55.71617820205811, \"type\": \"time\", \"id\": \"53ffdc66f01b9bae67019c9831255ba1\" }, { \"lon\": 37.420247497838766, \"range\": 600, \"mode\": \"walk\", \"lat\": 55.717849699902239, \"type\": \"time\", \"id\": \"0dd41072bda23525441293597398610c\" }, { \"lon\": 37.420868588440392, \"range\": 600, \"mode\": \"walk\", \"lat\": 55.726400430217147, \"type\": \"time\", \"id\": \"421cc07fe54ce02977284aa3089d2453\" }, { \"lon\": 37.423283940780081, \"range\": 600, \"mode\": \"walk\", \"lat\": 55.732423684231364, \"type\": \"time\", \"id\": \"110b92e99761caf65f33922576cc5a20\" }, { \"lon\": 37.427907615258903, \"range\": 600, \"mode\": \"walk\", \"lat\": 55.73739702573107, \"type\": \"time\", \"id\": \"675ff3f46738686ca6885d60b8a6bfdf\" }, { \"lon\": 37.480384735684957, \"range\": 600, \"mode\": \"walk\", \"lat\": 55.729355249670299, \"type\": \"time\", \"id\": \"eecc85c2fe5d5921ead24e8155ad2cb1\" }, { \"lon\": 37.410818983926077, \"range\": 600, \"mode\": \"walk\", \"lat\": 55.730811455510896, \"type\": \"time\", \"id\": \"246130e53c9977077d759286c7afb67f\" } ]", "source_2": "[ { \"lon\": 37.44599272886645, \"range\": 600, \"mode\": \"walk\", \"lat\": 55.726188393236697, \"type\": \"time\", \"id\": \"9907d3cbb34ce331597e8f87af4c5e18\" }, { \"lon\": 37.45093345426352, \"range\": 600, \"mode\": \"walk\", \"lat\": 55.724176688655191, \"type\": \"time\", \"id\": \"b63fccca0ff35adcc8c442043d06e98d\" }, { \"lon\": 37.444581983949753, \"range\": 600, \"mode\": \"walk\", \"lat\": 55.722629845077691, \"type\": \"time\", \"id\": \"249d2c9b32bab76294d0136b9f749fd2\" }, { \"lon\": 37.438446554389458, \"range\": 600, \"mode\": \"walk\", \"lat\": 55.728983428038383, \"type\": \"time\", \"id\": \"e8f657b3bd19159a0990f7dc0f6e6e9b\" }, { \"lon\": 37.438678190677322, \"range\": 600, \"mode\": \"walk\", \"lat\": 55.728636323289891, \"type\": \"time\", \"id\": \"962ed330b125a7d4b1933ca2142f5e07\" }, { \"lon\": 37.426139641255986, \"range\": 600, \"mode\": \"walk\", \"lat\": 55.719685213227336, \"type\": \"time\", \"id\": \"b124d07cc6ae213391992f28c0743ecb\" }, { \"lon\": 37.434191104248569, \"range\": 600, \"mode\": \"walk\", \"lat\": 55.736926750161452, \"type\": \"time\", \"id\": \"d274d04ca3fde33605f163909a0043c0\" }, { \"lon\": 37.455047963183475, \"range\": 600, \"mode\": \"walk\", \"lat\": 55.735767001867551, \"type\": \"time\", \"id\": \"a943fda123f71471e16c8a0b5df11c20\" }, { \"lon\": 37.440628408957629, \"range\": 600, \"mode\": \"walk\", \"lat\": 55.739052865362837, \"type\": \"time\", \"id\": \"90930728c7c7b3296d72e6d8f4ecbdf1\" } ]", "type": "time", "type_1": "union", "type_2": "union"}, "type": "Feature"}], "type": "FeatureCollection"});

        
    
    geo_json_65b960b045fa86fbdd2623a2231aba58.bindTooltip(
    function(layer){
    let div = L.DomUtil.create('div');
    
    let handleObject = feature=>typeof(feature)=='object' ? JSON.stringify(feature) : feature;
    let fields = ["source_1", "type_1", "id_1", "source_2", "type_2", "id_2", "lat", "lon", "mode", "type", "range", "id"];
    let aliases = ["source_1", "type_1", "id_1", "source_2", "type_2", "id_2", "lat", "lon", "mode", "type", "range", "id"];
    let table = '<table>' +
        String(
        fields.map(
        (v,i)=>
        `<tr>
            <th>${aliases[i]}</th>
            
            <td>${handleObject(layer.feature.properties[v])}</td>
        </tr>`).join(''))
    +'</table>';
    div.innerHTML=table;
    
    return div
    }
    ,{"className": "foliumtooltip", "sticky": true});
                     
</script>
</html>